# 프로젝트 개발 가이드

## 프로젝트 목표

상품 주문 및 결제가 가능한 간단한 커머스 사이트를 개발한다.

(React 프론트엔드 + Spring Boot API + PostgreSQL + MyBatis)

---

## 🧩 기본 운영 프로세스

1. **ITERATION_TASKS.md 기반 진행**
    - 각 Iteration 단위로 Task를 수행한다.
    - 완료된 항목은 체크(`[x]`) 표시로 항목 하나하나가 완료될 때마다 ITERATION_TASKS.md를 업데이트한다.
    - 새 Iteration은 이전 Iteration의 완료를 전제로 진행한다.
2. **명세 문서 사전 로드**
    - `/prd` 하위 문서(API 명세, 화면 명세, 인터페이스 명세, 데이터모델링 등)를 **처음 한 번만 읽고 메모리에 저장**한다.
    - 이후 개발 중에는 문서를 재조회하지 않는다.

      (토큰 절약 및 문맥 일관성 유지를 위함)

    - 문서의 내용은 “초기 기준 진리 소스”로 간주한다.
    - API 개발 시에는 API 명세 및 인터페이스 명세, FO 화면 개발 시에는 화면 명세 기준으로 개발한다.
3. **진행 중 모호한 부분 발견 시**
    - 바로 코드를 작성하지 말고, 개발을 **일시 중단하고 질문한다.**
    - 질문 시에는 명확히 문서 위치 또는 API명을 지칭한다.

      > 예: “화면명세의 주문서 화면에서 결제수단 선택 이벤트 동작이 정의되어 있지 않은데, 카드/포인트 병행 허용인가요?”
>
4. **개발 규칙 준수**
    - 네이밍, 계층구조, 예외처리, 로깅 등은 CLAUDE.md 아래의 가이드 문서의 기준을 따른다.
    - 불확실한 경우, 우선 규칙 파일을 참고 후 질문한다.
5. **UI / UX 규칙**
    - 기능 동작에 직접적인 영향을 미치지 않는 화면 요소(스타일, 폰트, 마진 등)는 AI가 자율적으로 구성한다.
    - 단, **사용자 흐름(UI event flow)** 은 명세서와 동일해야 한다.
    - 흐름이 부자연스럽다고 생각할 시, 일시 중단하고 질문한다.
6. **테스트 및 검증**
    - 각 Iteration 종료 시 통합 테스트 수행
    - 최소 E2E 시나리오(회원가입 → 주문 → 결제 → 취소)를 검증한다.
    - BE는 API별 응답 형식(`Response<T>`) 일관성 확인 필수.

---

## 개발 가이드 문서

각 영역별 상세 가이드는 아래 파일을 참조하세요. 
**해당 영역의 작업이 처음 언급될 때 한 번만 읽고, 이후에는 처음 읽은 내용을 기반으로 작업합니다.**

### Frontend (FO)
- 경로: `/docs/fo-guide.md`
- Next.js, React 개발 시 반드시 준수

### Backend (API)
- 경로: `/docs/api-guide.md`
- Spring Boot API 개발 시 반드시 준수
- **MyBatis XML 매퍼에서 SQL 작성 시에는 Database 가이드도 함께 참조**

### Database (SQL)
- 경로: `/docs/sql-guide.md`
- PostgreSQL 쿼리 작성 시 반드시 준수
- **MyBatis XML 매퍼의 SQL 작성 시에도 반드시 준수**

---

## 작업 방식

1. **Frontend 작업**이 언급되면 → `/docs/fo-guide.md` 읽기 (최초 1회)
2. **Backend 작업**이 언급되면 → `/docs/api-guide.md` 읽기 (최초 1회)
3. **Database 작업 또는 MyBatis 쿼리 작성**이 언급되면 → `/docs/sql-guide.md` 읽기 (최초 1회)
4. **Backend 작업 중 MyBatis XML 작성 시** → 두 가이드 모두 참조 (API 가이드 + Database 가이드)
5. 이후 동일 영역 작업은 처음 읽은 가이드를 기반으로 진행

---

## 주의사항

- 각 가이드는 해당 영역의 코딩 컨벤션과 필수 규칙을 담고 있으므로 반드시 준수
- **MyBatis XML 매퍼 작성 시**: Java 코드는 API 가이드, SQL 쿼리는 Database 가이드 준수
- 가이드에 없는 내용은 일반적인 Best Practice 적용
- 가이드 내용과 충돌 시 가이드 우선
